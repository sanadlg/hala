<script>
    // بيانات الأصناف والأسعار
    const items = [
        { name: "صنف 1", price: 10 },
        { name: "صنف 2", price: 20 },
        { name: "صنف 3", price: 30 }
    ];

    // ملء خيارات اسم الصنف
    const itemsList = document.getElementById("items");
    items.forEach(item => {
        const option = document.createElement("option");
        option.value = item.name;
        option.setAttribute("data-price", item.price);
        itemsList.appendChild(option);
    });

    // تحديث السعر عند اختيار اسم الصنف
    document.getElementById("item-name").addEventListener("input", function() {
        const selectedOption = Array.from(itemsList.children).find(option => option.value === this.value);
        const priceField = document.getElementById("price");
        if (selectedOption) {
            priceField.value = selectedOption.getAttribute("data-price");
        } else {
            priceField.value = "";
        }
    });

    // إرسال البيانات إلى Google Sheets
    document.getElementById("data-form").addEventListener("submit", function(event) {
        event.preventDefault();
        
        // بيانات النموذج
        const payload = {
            itemName: document.getElementById("item-name").value,
            price: document.getElementById("price").value,
            quantity: document.getElementById("quantity").value,
            notes: document.getElementById("notes").value
        };

        // رابط Google Apps Script (استبدل هذا بالرابط الفعلي لديك)
        const url = "https://script.google.com/macros/s/AKfycbxlTFOEHs4br-pDfzTGs5E6-iPffyx0JcDOg1T4nZxl6oZ9OKt2Zp_GUN0VT3nO694/exec"; 
        
        // إرسال البيانات إلى Google Sheets باستخدام Fetch API
        fetch(url, {
            method: "POST",
            contentType: "application/json",
            body: JSON.stringify(payload)
        })
        .then(response => response.text())
        .then(data => {
            alert("تم إرسال البيانات بنجاح!");
            console.log(data);
        })
        .catch(error => {
            alert("حدث خطأ أثناء إرسال البيانات");
            console.error(error);
        });
    });
</script>
fetch(url, {
    method: "POST",
    headers: {
        "Content-Type": "application/json"
    },
    body: JSON.stringify(payload)
})
.then(response => response.text())
.then(data => {
    alert("تم إرسال البيانات بنجاح!");
    console.log("الرد من Google Apps Script:", data); // عرض الرد من Google Apps Script
})
.catch(error => {
    alert("حدث خطأ أثناء الإرسال: " + error.message);
    console.error("الخطأ:", error); // عرض الخطأ في Console
});

